This problem can be solved in O(n) time.